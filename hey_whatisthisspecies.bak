#! /bin/bash
#################################################################################
#     File Name           :     hey_whatisthisspecies.sh
#     Created By          :     yc
#     Creation Date       :     [2017-03-21 20:41]
#     Last Modified       :     [2017-03-21 20:42]
#     Description         :      still in progress, may fix the bugs someday
#################################################################################

SOURCE="${BASH_SOURCE[0]}"
while [ -h "$SOURCE" ]; do # resolve $SOURCE until the file is no longer a symlink
  DIR="$( cd -P "$( dirname "$SOURCE" )" && pwd )"
  SOURCE="$(readlink "$SOURCE")"
  [[ $SOURCE != /* ]] && SOURCE="$DIR/$SOURCE" # if $SOURCE was a relative symlink, we need to resolve it relative to the path where the symlink file was located
done
DIR="$( cd -P "$( dirname "$SOURCE" )" && pwd )"

cd $DIR


if [ -z "$1"  ];then
  echo "#############################"
  echo "## !! No argument supplied ##"
  echo "## Input a species STRING  ##"
  echo "## or FILE of species name ##"
  echo "#############################"
elif [[ -f $1 ]]; then
  ./query_name.py $1
else
  echo -e "\e[1m\e[93mSearching in WikiPedia...\e[0m"
  ./query_wikispecies.py $1
fi
